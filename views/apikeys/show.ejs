<%- include('../partials/page_header', { title: "API KEY Details"}) -%>

<div class="flex flex-col gap-8 justify-start w-full">

    <div class="flex flex-col gap-1">
        <div class="uppercase text-xs">
            API Key
        </div>
        <div>
            <code>modeldeployer://<%= apikey.id %></code>
        </div>
    </div>

    <div class="flex flex-col gap-1">
        <div class="uppercase text-xs">
            Model
        </div>
        <div>
            <div>
                <a href="/admin/models/<%= apikey.Model.id %>">
                    <%= apikey.Model.service %>/<%= apikey.Model.model %>
                </a>
            </div>
            <code class="text-xs text-gray-500"><%= apikey.Model.id %></code>
        </div>
    </div>

    <div class="flex flex-col gap-1">
        <div class="uppercase text-xs">
            Cost
        </div>
        <div>
            $<%= locals.smartRound(apikey.cost) %>
        </div>
    </div>

    <div class="flex flex-col gap-1">
        <div class="uppercase text-xs">
            Tokens
        </div>
        <div>
            <%= apikey.tokens %> tokens
        </div>
    </div>


    <div class="flex flex-col gap-16">
        <div class="flex gap-4">
            <a href="/admin/events?apikey=<%= apikey.id %>" class="button purple">Events</a>
            <form hx-post="/admin/apikeys/<%= apikey.id %>/remove" action="/admin/apikeys/<%= apikey.id %>/remove" method="POST">
                <button type="submit" class="button red" onclick="return confirm('Are you sure you want to delete this apikey?')">Delete</button>
            </form>
        </div>
    </div>
</div>

<%- include('../partials/page_footer') -%>