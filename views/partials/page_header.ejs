<% if (!locals.htmx) { %>
<%- include('../partials/header') -%>
<% } %>

<div class="w-full max-w-5xl mx-auto min-h-screen pb-20 flex flex-col">
    <div class="uppercase text-xs flex gap-4 py-2 text-gray-400">
        <a href="/" class="font-bold hover:text-gray-700">Model Deployer</a>
        <a href="/history" class="hover:text-gray-700">History</a>
        <a href="/models" class="hover:text-gray-700">Models</a>
    </div>

    <div class="flex flex-col py-8 gap-2">
        <h1 class="text-2xl leading-none uppercase"><%= typeof title === "string" ? title : "Model Deployer" %></h1>
    </div>

    <div class="border-2 border-gray-100 w-full rounded-lg shadow-sm bg-white grow p-8 flex flex-col">
        <% if (locals.success || locals.error) { %>
        <% if (locals.success) { %>
        <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-8" role="alert">
            <strong class="font-bold">Success</strong>
            <span class="block sm:inline"><%= locals.success %></span>
        </div>
        <% } %>
        <% if (locals.error) { %>
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-8" role="alert">
            <strong class="font-bold">Error</strong>
            <span class="block sm:inline"><%= locals.error %></span>
        </div>
        <% } %>
        <script>
            let params = new URLSearchParams(location.search)
            params.delete('success');
            params.delete('error');
            history.replaceState(null, '', '?' + params + location.hash)
        </script>
        <% } %>